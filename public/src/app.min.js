!function(){"use strict";var e=angular.module("app",["app.common","app.overview","app.exchange","ngAnimate","ui.router"]);e.config(["$stateProvider","$urlRouterProvider",function(e,o){o.otherwise("/overview")}]),e.constant("FBURL","https://drink-exchange.firebaseio.com/")}();
!function(){"use strict";angular.module("app.common",[])}();
!function(){"use strict";var e=angular.module("app.exchange",["ui.router","firebase"]);e.config(["$stateProvider","$urlRouterProvider",function(e){e.state("drink-exchange",{url:"/drink-exchange",templateUrl:"app/exchange/views/exchange.html"}).state("drink-exchange.new",{url:"/new",templateUrl:"app/exchange/views/exchange.new.html"})}])}();
!function(){"use strict";var e=angular.module("app.overview",["ui.router"]);e.config(["$stateProvider",function(e){e.state("overview",{url:"/overview",templateUrl:"app/overview/views/overview.html"})}])}();
!function(){"use strict";var e=function(){function e(e,t){this._firebase=t,this._ref=new Firebase(e)}return e.prototype.get=function(e){var t=this._ref.child("/"+e);return this._firebase(t)},e.prototype.set=function(e,t){var i=this._ref.child("/"+e);this._firebase(i).$set(t)},e.$inject=["FBURL","$firebase"],e}();angular.module("app.common").service("DataService",e)}();
!function(){"use strict";var e=function(){function e(e,n){this.scope=e,this.dataService=n,this.bindExchange()}var n={"+":function(e,n){return+(e+n/100)},"-":function(e,n){return+(e-n/100)}};return e.prototype.bindExchange=function(){var e=this,n=e.dataService.get("").$asObject();n.$bindTo(e.scope,"overview")},e.prototype.vote=function(e){var t=e,a=this,r=t.rating,c=0;t.amount=t.amount+1,t.price=n["+"](t.price,t.rating),a.dataService.set(e.name,t),angular.forEach(a.scope.overview,function(n){n&&n.name!=e.name&&(c+=1)}),angular.forEach(a.scope.overview,function(t){t&&t.name!=e.name&&(t.price=n["-"](t.price,r/c),t.price<1&&(t.price=1),a.dataService.set(t.name,t))})},e.$inject=["$scope","DataService"],e}();angular.module("app.exchange").controller("ExchangeCtrl",e)}();
!function(){"use strict";var t=function(){function t(t,e){this.newExchange={},this.dataService=e,this.$state=t}return t.prototype.save=function(t){t.name&&t.rating&&(t.amount=0,this.dataService.set(t.name,t),this.$state.go("drink-exchange"))},t.$inject=["$state","DataService"],t}();angular.module("app.exchange").controller("NewExchangeCtrl",t)}();
!function(){"use strict";angular.module("app.exchange").directive("exchange",function(){return{restrict:"AE",template:'<div ng-click="vote()" class="{{customClass}} panel panel-default"><div class="panel-heading"><h3 class="panel-title">{{value.name}}</h3></div>    <div class="panel-body"><h2 class="price text-center">{{ value.price | currency:"â‚¬ " }}</h2></div></div>',scope:{value:"=",customClass:"@",vote:"&"},link:function(){}}})}();
!function(){"use strict";var e=function(){function e(e,i){this.dataService=i,this.scope=e,this.bindOverview()}return e.prototype.bindOverview=function(){var e=this,i=e.dataService.get("").$asObject();i.$bindTo(e.scope,"overview")},e.$inject=["$scope","DataService"],e}();angular.module("app.overview").controller("OverviewCtrl",e)}();